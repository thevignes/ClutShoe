

<%- include('../../views/partial/user/header', {user: user}) %>
<html>
<head>
  <title>Wallet Page</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
      
    }
    .container {
      display: flex;
      flex-wrap: wrap;
    }
    .sidebar {
      width: 250px;
      background-color: #fff;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      height: 80vh;
      right : 13%;
      position:relative;
    }
    .sidebar img {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      display: block;
      margin: 0 auto;
    }
    .sidebar .username {
      text-align: center;
      margin-top: 10px;
      font-size: 18px;
      font-weight: bold;
      color: #fff;
      background-color: #6200ea;
      padding: 10px;
      border-radius: 5px;
    }
    .sidebar .menu {
      list-style: none;
      padding: 0;
      margin-top: 20px;
    }
    .sidebar .menu li {
      margin-bottom: 20px;
      font-size: 16px;
      color: #333;
      display: flex;
      align-items: center;
    }
    .sidebar .menu li i {
      margin-right: 10px;
    }
    .sidebar .menu li.active {
      background-color: #f5f5f5;
      padding: 10px;
      border-radius: 5px;
    }
    .sidebar .logout {
      background-color: #ff0000;
      color: #fff;
      text-align: center;
      padding: 10px;
      border-radius: 5px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
    }
    .main-content {
      flex: 1;
      padding: 20px;
      min-width: 0; /* allows it to shrink */
    }
    .balance {
      background-color: #007bff;
      color: #fff;
      padding: 20px;
      border-radius: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 24px;
      font-weight: bold;
      flex-wrap: wrap;
    }
    .payment-method {
      margin-top: 20px;
    }
    .payment-method h3 {
      font-size: 18px;
      font-weight: bold;
    }
    .payment-method p {
      color: #888;
      font-size: 14px;
    }
    .payment-method input[type="radio"] {
      margin-right: 10px;
    }
    .payment-method .amount-input {
      display: flex;
      align-items: center;
      margin-top: 10px;
    }
    .payment-method .amount-input input {
      padding: 10px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 5px;
      margin-right: 10px;
      flex: 1;
    }
    .payment-method .amount-input button {
      background-color: #28a745;
      color: #fff;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
    }
    .transaction-history {
      margin-top: 20px;
    }
    .transaction-history h3 {
      font-size: 18px;
      font-weight: bold;
    }
    .transaction-history .filters {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 10px;
      flex-wrap: wrap;
    }
    .transaction-history .filters select {
      padding: 10px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    .transaction-history table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    .transaction-history table th, .transaction-history table td {
      padding: 10px;
      text-align: left;
      border-bottom: 1px solid #ccc;
    }
    .transaction-history table th {
      background-color: #f5f5f5;
    }
    .transaction-history table tr:nth-child(even) {
      background-color: #f9f9f9;
    }

    /* Responsive Styling */
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
      }
      .sidebar {
        width: 100%;
        height: auto;
      }
      .balance {
        font-size: 20px;
        flex-direction: column;
        align-items: flex-start;
      }
      .payment-method .amount-input {
        flex-direction: column;
      }
      .payment-method .amount-input input,
      .payment-method .amount-input button {
        width: 100%;
        margin-top: 5px;
      }
      .transaction-history .filters {
        flex-direction: column;
        align-items: flex-start;
      }
    }

    @media (max-width: 480px) {
      .balance {
        font-size: 18px;
      }
      .sidebar .username {
        font-size: 16px;
      }
      .sidebar .menu li {
        font-size: 14px;
      }
      .transaction-history h3 {
        font-size: 16px;
      }
      .transaction-history .filters select {
        width: 100%;
        margin-top: 5px;
      }
    }
    
  </style>
</head>
<body>
  <div class="container">
    <div class="sidebar">
      <img alt="User profile picture" height="100" src="https://static.vecteezy.com/system/resources/previews/005/129/844/non_2x/profile-user-icon-isolated-on-white-background-eps10-free-vector.jpg" width="100"/>
      <h4 class="text-dark">Hello</h4>
      <h5 > <%=user.name%></h5>
      <ul class="menu">
        <li><i class="fas fa-user"></i><a href="/profile" class="text-dark">Account Overview</a></li>
        <li><i class="fas fa-box"></i><a href="/order"class="text-dark">My Orders</a></li>
        <li><i class="fas fa-map-marker-alt"></i><a href="/manageAddress" class="text-dark">Manage Addresses</a></li>
        <li class="active"><i class="fas fa-wallet"></i><a href="/wallet"class="text-dark">Wallet</a></li>
      </ul>
      <div class="logout">LOGOUT</div>
    </div>
    <div class="main-content">
        <div class="balance">
          <span>Available Balance</span>
          <span>₹<%= wallet.balance %></span>
        </div>
      
        <div class="transaction-history">
          <h3>Transaction History</h3>
          <!-- <div class="filters" style="width: 10%; gap: 7px;">
            <select>
              <option>Debited</option>
              <option>Credited</option>
            </select>
            <select>
              <option>Sort</option>
            </select>
          </div> -->
      
          <table style="color: black; border: #333;">
            <thead>
              <tr>
                <th>Date</th>
                <th>Amount</th>
                <th>Transaction</th>
              </tr>
            </thead>
            <tbody>
              <% wallet.transaction.forEach(transaction => { %>
                <tr>
                    <td><%= transaction.date.toLocaleDateString('en-GB') %></td>

                  <td>₹ <%= transaction.amount %></td>
                  <td><%= transaction.type %></td>
                </tr>
              <% }) %>
            </tbody>
          </table>
        </div>
      </div>
      
  </div>
</body>
</html>

<%- include('../../views/partial/user/footer') %>
